# ================================================================
# RPPacks - Plugin Configuration
# ================================================================
# このファイルを編集して /rpp reload でプラグインをリロードしてください
# 各機能の有効化・無効化や動作パラメータを設定します

# ================================================================
# セクション 1: プレイヤー機能（共通設定）
# ================================================================

# --- スニーク成長 (Sneak Grow) ---
# 説明: 作物の近くでスニークすると成長を促進します
# コマンド: /rpp sneakgrow <enable|disable|set>
sneak-grow:
  enabled: true
  success-chance: 0.8            # 成功確率 (0.0 ～ 1.0)
  radius: 1                      # 影響範囲の半径 (1 = 3x3)

  # 成長方式の定義
  # AGEABLE: 段階的に成長 (小麦等)
  # STACK: 上に伸びる (サトウキビ等)
  # BONEMEAL: 骨粉効果を適用 (苗木等)
  growable-blocks:
    # 段階的成長
    WHEAT: AGEABLE
    CARROTS: AGEABLE
    POTATOES: AGEABLE
    BEETROOTS: AGEABLE
    COCOA: AGEABLE
    NETHER_WART: AGEABLE

    # スタック成長
    SUGAR_CANE: STACK
    CACTUS: STACK

    # 骨粉効果
    OAK_SAPLING: BONEMEAL
    SPRUCE_SAPLING: BONEMEAL
    BIRCH_SAPLING: BONEMEAL
    JUNGLE_SAPLING: BONEMEAL
    ACACIA_SAPLING: BONEMEAL
    DARK_OAK_SAPLING: BONEMEAL
    CHERRY_SAPLING: BONEMEAL
    BAMBOO: BONEMEAL
    BAMBOO_SAPLING: BONEMEAL
    MELON_STEM: BONEMEAL
    MOSS_BLOCK: BONEMEAL
    AZALEA: BONEMEAL
    FLOWERING_AZALEA: BONEMEAL
    ROOTED_DIRT: BONEMEAL
    CRIMSON_FUNGUS: BONEMEAL
    WARPED_FUNGUS: BONEMEAL
    PINK_PETALS: BONEMEAL
    PUMPKIN_STEM: BONEMEAL
    WILDFLOWERS: BONEMEAL
    KELP: BONEMEAL

# --- 足あとエフェクト (Footprint Trail) ---
# 説明: プレイヤーが移動するときに足あとのパーティクルを表示します
# コマンド: /rpp trail [enable|disable|check]
footprint-trail:
  enabled: true
  density: 2                     # デフォルトの密度
  interval: 0.2                  # エフェクト発生の移動間隔（ブロック）

  # 一般プレイヤーが使用可能なエフェクト
  allowed-effects:
    - FLAME:2
    - VILLAGER_HAPPY:5
    - CLOUD
    - SNOWBALL:3
    - ENCHANTMENT_TABLE:7

  # VIP権限 (rppacks.vip) が必要なエフェクト
  vip-effects:
    - HEART:1
    - TOTEM:1
    - DRAGON_BREATH:3
    - SOUL_FIRE_FLAME:2
    - GLOW
    - PORTAL:4
    - WITCH:2
    - LAVA:2
    - WAX_ON
    - END_ROD
    - INSTANT_EFFECT
    - SPLASH:5
    - SQUID_INK
    - ELECTRIC_SPARK

  # 特殊設定（カラー指定等）が必要なエフェクト
  colored-effects:
    REDSTONE_DUST:
      particle: "DUST"
      color: "#FF0000"
      size: 1.0
      density: 3
    GOLD_DUST:
      particle: "DUST"
      color: "#e6b422"
      size: 1.5
      density: 5

  # GUIメニューで表示されるアイコンの設定
  icons:
    CLOUD: "FEATHER"
    DRAGON_BREATH: "DRAGON_BREATH"
    ENCHANTMENT_TABLE: "ENCHANTING_TABLE"
    END_ROD: "END_ROD"
    FLAME: "CAMPFIRE"
    GLOW: "GLOW_INK_SAC"
    GOLD_DUST: "GOLD_NUGGET"
    GREEN_NOTE: "JUKEBOX"
    HEART: "POPPY"
    LAVA: "LAVA_BUCKET"
    MELODY_GREEN: "NOTE_BLOCK"
    PORTAL: "ENDER_PEARL"
    REDSTONE_DUST: "REDSTONE"
    SNOWBALL: "SNOWBALL"
    SOUL_FIRE_FLAME: "SOUL_LANTERN"
    TOTEM: "TOTEM_OF_UNDYING"
    VILLAGER_HAPPY: "EMERALD"
    WAX_ON: "HONEYCOMB"
    WITCH: "POTION"

# --- テレポートエフェクト設定 (Teleport Effect) ---
# 説明: テレポート時に視覚的なパーティクルエフェクトを表示します
# コマンド: /rpp tpeffect <enable|disable>
teleport-effect:
  enabled: true
  delay-ticks: 10                # 実行までの遅延（ティック）、10 = 0.5秒
  from-particle: "trial_spawner_detection"      # ワープ元: 離脱時のエフェクト
  to-particle: "trial_spawner_detection_ominous"  # ワープ先: 到着時のエフェクト

# --- 効果音設定 (Sound Settings) ---
# 説明: 各アクション時に再生される効果音を設定します
# サウンド一覧: https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/Sound.html
sounds:
  gui:
    equip-success:                # エフェクト装備成功時
      name: "entity.experience_orb.pickup"
      volume: 1.0
      pitch: 1.0
    equip-fail:                   # 権限不足などで失敗した時
      name: "entity.villager.no"
      volume: 1.0
      pitch: 1.0
    page-change:                  # ページ移動クリック時
      name: "item.book.page_turn"
      volume: 1.0
      pitch: 1.0
    effect-off:                   # エフェクトを解除（BARRIERクリック）した時
      name: "block.note_block.iron_xylophone"
      volume: 1.0
      pitch: 0.75

# ================================================================
# セクション 2: エンティティ / モブ機能
# ================================================================

# --- エンチャントモブ (Enchanted Mobs) ---
# 説明: モンスターを強化し、高度なAIと視覚効果を付与します
# コマンド: /rpp enchantedmobs <enable|disable>
enchanted-mobs:
  enabled: true
  
  # ===== 基本設定 =====
  enchanted-spawn-chance: 0.15   # スポーン時にEnchanted化する確率 (0.0 ~ 1.0)
  
  # ===== ステータス調整 =====
  stats:
    hp-multiplier: 2.5           # HP倍率
    movement-speed: 0.275        # 移動速度（デフォルト 0.1）
  
  # ===== ビジュアル設定 =====
  particles:
    aura-update-interval: 4       # ビジュアルオーラのタスク周期（ティック）
    spiral-angle-increment: 0.4   # 螺旋パーティクルの角度増加量
    spiral-radius: 0.6            # 螺旋パーティクルの半径
  
  # ===== ナビゲーション AI =====
  navigation:
    detection-range: 48.0         # 感知範囲（ブロック）
    base-speed: 1.2               # 基本移動速度
    far-distance-threshold: 20    # 遠距離判定（ブロック以上で速く移動）
    far-distance-speed: 1.6       # 遠距離時の移動速度
    close-distance-threshold: 6   # 近距離判定（ブロック以下で執着強化）
    close-distance-speed: 1.3     # 近距離時の移動速度
    stuck-ticks-threshold: 15     # スタック解決の待機時間（ティック）
    stuck-jump-power: 0.4         # スタック時のジャンプ力
    stuck-jump-horizontal: 0.2    # スタック時の水平移動
  
  # ===== スケルトン設定 =====
  skeleton:
    arrow-speed-multiplier: 1.4   # 矢の速度倍率
    homing-arrow-chance: 0.10     # ホーミング矢の発射確率
    homing-arrow-speed: 0.4       # ホーミング矢の速度
  
  # ===== ゾンビ設定 =====
  zombie:
    commander-aura-range: 16      # 指揮官オーラの範囲
    commander-aura-height: 8      # 指揮官オーラの高さ
    swarm-aura-interval: 40       # 呼び声AIのタスク周期（ティック）
    swarm-detection-range: 15     # 呼び声AIの探知範囲
    reinforcement-hp-threshold: 10.0  # 増援召喚の体力閾値
    reinforcement-spawn-chance: 0.25  # 増援召喚確率
    reinforcement-count-min: 2    # 召喚される増援の数（最小）
    reinforcement-count-max: 5    # 召喚される増援の数（最大）
    enchanted-reinforcement-chance: 0.05  # Enchanted増援になる確率
    reinforcement-spawn-distance: 3  # 増援召喚時の距離
  
  # ===== クリーパー設定 =====
  creeper:
    base-movement-speed: 0.25     # 基本速度
    backstab-speed: 0.45          # 背後フェイズの速度増加
    sidestep-force: 0.5           # サイドステップの力
    visibility-threshold: 0.98    # 視認判定の閾値 (0.98 = ほぼ向いている)
    vision-range: 15              # 視認判定の範囲
    backstab-distance: 3.0        # 不意打ち判定距離
    sidestep-distance: 15         # サイドステップ判定距離
    burst-min-distance: 5         # バースト突進の最小距離
    burst-max-distance: 12        # バースト突進の最大距離
    burst-speed: 1.4              # バースト突進の速度
    burst-vertical-power: 0.4     # バースト突進の垂直力
    burst-cooldown: 40            # バースト突進のクールダウン（ティック）
  
  # ===== クモ設定 =====
  spider:
    wall-climb-force: 0.15        # 壁登りの推進力
    wall-climb-vertical: 0.25     # 壁登りの垂直力
    wall-climb-height-diff: 1     # 壁登り判定の高さ差
    leap-min-distance: 5          # 飛びかかり最小距離
    leap-max-distance: 10         # 飛びかかり最大距離
    leap-speed: 1.2               # 飛びかかりの速度
    leap-chance: 0.2              # 飛びかかりの確率（0.0 ~ 1.0）
    web-trap-duration: 60         # ウェブトラップの有効期間（ティック）
    swarm-call-range: 20          # 周辺スパイダー呼び出し範囲
    swarm-call-height: 10         # 周辺スパイダー呼び出し高さ
  
  # ===== クリーパー毒ガス爆発 =====
  creeper-poison:
    cloud-radius: 4.0             # 毒ガス雲の初期半径
    cloud-duration: 200           # 毒ガス雲の持続時間（ティック）
    cloud-radius-on-use: -0.1     # 毒ガス雲の半径減少量（接触時）
  
  # ===== 建築 AI =====
  climbing:
    climbing-speed: 1.2           # 移動スピード
    stuck-distance-threshold: 0.1 # スタック検知閾値
    stuck-tick-limit: 5           # スタック判定ティック
    lookahead-distance: 1.6       # 建築判定の先読み距離
    vertical-build-height: 2.5    # 垂直建築の高さ判定
    vertical-build-close-distance: 1.5  # 垂直建築の近さ判定
    bridge-min-distance: 1.5      # 橋渡しの最小距離
    temporary-block-duration: 100 # 一時ブロック（苔石）の消去時間（ティック）
    damage-animation-interval: 10 # ひび割れアニメーションの周期（ティック）
  
  # ===== 拾得 AI =====
  looting:
    equipment-detection-range: 6  # 装備拾得範囲（ブロック）
    looting-ai-interval: 10       # 装備拾得のタスク周期（ティック）
  
  # ===== キャンプファイア回復 =====
  campfire-healing:
    heal-amount: 2.0              # 回復量（ハート値）
    scan-range: 5                 # スキャン範囲（ブロック）
    scan-height: 3                # スキャン高さ
    task-interval: 40             # タスク周期（ティック）

# ================================================================
# セクション 3: 拡張機能（プレイヤー/エンティティ）
# ================================================================

# --- ダメージ・回復インジケーター (Damage Indicator) ---
# 説明: ダメージ・回復を与えた攻撃対象に表示します
damage-indicator:
  share-continuous-damage:
    range: 16.0                  # 共有表示範囲（ブロック）

# --- HP ゲージ（アクションバー） (Health Bar) ---
# 説明: ターゲット中のモブの体力をアクションバーに表示します
health-bar:
  view-distance: 96.0            # 視線判定（RayTrace）でモブを認識する距離（ブロック）
  display-ticks: 15             # 攻撃後にゲージを維持する時間（ティック）、15 = 0.75秒

# --- エンティティヘルスシステム統合フラグ ---
# 説明: ダメージインジケーター＆HPゲージ機能全体を管理します
# コマンド: /rpp entityhealth <enable|disable>
features:
  entity-health:
    enabled: true

